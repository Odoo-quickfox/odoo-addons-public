<odoo>
    <data>
        <!-- Rule for Team Members(user) -->
        <record id="rule_team_member_incident" model="ir.rule">
            <field name="name">User Incident Rule</field>
            <field name="model_id" ref="model_team_incidents"/>
            <field name="domain_force">['|','|',('involved_user_id', '=', user.id),('message_partner_ids', 'child_of', [user.partner_id.commercial_partner_id.id]),('message_partner_ids', 'in', [user.partner_id.id])]  </field>
            <field name="groups" eval="[(4, ref('project.group_project_user'))]"/>
        </record>

        <!-- Rule for Team Leaders(manager) -->
        <record id="rule_team_leader_incident" model="ir.rule">
            <field name="name">Team Leader Incident Rule</field>
            <field name="model_id" ref="model_team_incidents"/>
            <field name="domain_force">[('message_partner_ids', 'in', [user.partner_id.id])] </field>
            <field name="groups" eval="[(4, ref('incident_mgmt.group_team_leader'))]"/>
        </record>

        <!-- Rule for Team Managers(administration) -->
        <record id="rule_team_manager_incident" model="ir.rule">
            <field name="name">Team Manager Incident Rule</field>
            <field name="model_id" ref="model_team_incidents"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('project.group_project_manager'))]"/>
        </record>
    </data>
</odoo>
